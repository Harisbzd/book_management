<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentDate = new Date();
        const options = {
          year: "numeric",
          month: "long",
          day: "numeric",
        };
        document.getElementById("current-date").textContent =
          currentDate.toLocaleDateString("en-US", options);
      });
    </script>
    <link href="/output.css" rel="stylesheet" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <title>Library Management System</title>
  </head>

  <body class="font-sans bg-gray-200">
    <div class="container px-4 mx-auto">
      <header class="py-6 bg-[#1e3039] shadow-lg rounded-lg text-white mb-2">
        <h1 class="mb-2 text-5xl font-bold text-center">
          Library Management System
        </h1>
        <p class="text-lg italic text-center">
          Your gateway to knowledge and resources
        </p>
      </header>

      <!-- Start of form -->
      <form method="POST" class="w-full h-full p-8 space-y-4 bg-white shadow-2xl rounded-xl">
        <h1 class="mb-6 text-3xl font-bold text-center text-gray-800">
          ðŸ“š Create a New Book Instance
        </h1>

        <!-- Book Select Input -->
        <div class="relative">
          <label
            for="book"
            class="absolute left-4 -top-3.5 text-sm text-gray-600 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-green-600"
            >Book</label
          >
          <select
            id="book"
            name="book"
            class="w-full px-4 py-3 text-gray-900 placeholder-transparent border-b-2 border-gray-300 peer focus:border-green-500 focus:outline-none"
            required
          >
            <option value="">--Please select a book--</option>
            <% book_list.forEach(function(book) { %>
              <option value="<%= book._id %>" 
                <%= bookinstance && bookinstance.book && bookinstance.book._id.toString() === book._id.toString() ? 'selected' : '' %>>
                <%= book.title %>
              </option>
            <% }); %>
          </select>
        </div>

        <!-- Imprint Input -->
        <div class="relative">
          <label
            for="imprint"
            class="absolute left-4 -top-3.5 text-sm text-gray-600 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-green-600"
            >Imprint</label
          >
          <input
            id="imprint"
            name="imprint"
            class="w-full px-4 py-3 text-gray-900 placeholder-transparent border-b-2 border-gray-300 peer focus:border-green-500 focus:outline-none"
            type="text"
            placeholder="Publisher and date information"
            required
            value="<%= bookinstance ? bookinstance.imprint : '' %>"
          />
        </div>

    

        <!-- Status Input -->
        <div class="relative">
          <label
            for="status"
            class="absolute left-4 -top-3.5 text-sm text-gray-600 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-3 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-green-600"
            >Status</label
          >
          <select
            id="status"
            name="status"
            class="w-full px-4 py-3 mt-6 text-gray-900 placeholder-transparent bg-gray-200 border-b-2 border-gray-300 peer focus:border-green-500 focus:outline-none rounded-xl shadow-neumorphism"
            required
          >
            <option value="">--Please select a status--</option>
            <% ['Maintenance', 'Available', 'Loaned', 'Reserved'].forEach(function(val) { %>
              <option value="<%= val %>"
                <%= bookinstance && bookinstance.status === val ? 'selected' : '' %>>
                <%= val %>
              </option>
            <% }); %>
          </select>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-center mt-6">
          <button
            type="submit"
            class="w-full px-6 py-3 font-semibold text-white transition duration-300 transform bg-[#1e3039] rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 hover:-translate-y-1"
          >
            Create Book Instance
          </button>
        </div>
      </form>

      <div class="flex justify-center mt-6">
        <button>
          <a
            href="/catalog/bookinstance"
            class="px-6 py-3 font-semibold text-white transition duration-300 bg-[#1e3039] rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
          >
            Back to Book Instances
          </a>
        </button>
      </div>
    </div>
  </body>
</html>